!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t){(function(e){!function(n){"use strict";function r(t,e){for(var n in e){var r="_"!=n[0];if(r){var i=e[n];if(i instanceof Function){if(t[n])throw new Error(n+" already exists on the API object.");t[n]=i.bind(e)}}}}var i=t("merge"),o=t("./lib/util"),s=t("./lib/CouchError"),a=t("./lib/constants"),u=t("events").EventEmitter,h=function(e){function n(t){u.call(this,t),i(this,a)}e=e||{},e.database=e.database||"db",n.prototype=Object.create(u.prototype),i(n.prototype,{reset:function(t,e){var n=o.optsOrCallback(t,e),r=n.opts;e=n.cb,this.deleteAllDatabases(r,function(t){t||this.logout(),e(t)}.bind(this))}});var s=new n,h=t("./lib/auth")(s,e),c=t("./lib/http")(h,e),f=t("./lib/users")(h,c),p=t("./lib/admin")(h,c,e),l=t("./lib/documents")(h,c,e),d=t("./lib/attachments")(h,c,e);return Object.defineProperty(s,"auth",{get:function(){return h.auth},set:function(t){h.setAuth(t)}}),[h,f,p,d,l].forEach(function(t){r(s,t)}),s};for(var c in a)a.hasOwnProperty(c)&&(h[c]=a[c]);h.CouchError=s,n.couchdb=h;var f=!!e.XMLHttpRequest;f&&(e.couchdb=h)}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/CouchError":2,"./lib/admin":4,"./lib/attachments":5,"./lib/auth":6,"./lib/constants":7,"./lib/documents":8,"./lib/http":9,"./lib/users":11,"./lib/util":12,events:17,merge:18}],2:[function(t,e){!function(){"use strict";function n(t){r(this,t),this.isError=!0,Object.defineProperties(this,{isHttpError:{get:function(){return!(!this.isNodeHttpError&&!this.isBrowserHttpError)}},isCouchError:{get:function(){return this.reason&&this.error}},isNodeHttpError:{get:function(){return!!this.response}},isBrowserHttpError:{get:function(){return!!this.xhr}},isThrownError:{get:function(){return!!this.thrown}},isUserError:{get:function(){return!this.isThrownError&&!this.isHttpError}}})}var r=t("merge");e.exports=n}()},{merge:18}],3:[function(t,e){!function(){"use strict";function t(t){t.forEach(function(t){this[t]=t}.bind(this))}t.prototype.memberOf=function(t){return t in this},e.exports=t}()},{}],4:[function(t,e){!function(){"use strict";function n(t,e,n){this.auth=t,this.http=e,this.opts=n}var r=t("./util"),i=t("./constants"),o=t("merge"),s=t("nimble");n.prototype={deleteAllDatabases:function(t,e){var n=r.optsOrCallback(t,e),o=n.opts;e=n.cb,o.path="_all_dbs",o.admin=!0,this.http.json(o,function(t,n){if(t)e(t);else{var r=n.reduce(function(t,e){return i.IGNORE_DATABASES.memberOf(e)||t.push({type:"DELETE",path:e,admin:!0}),t},[]);this.http.json(r,e)}}.bind(this))},_toggleDoc:function(t,e,n){var r=e.database||this.opts.database,s=e.id,a=e.remove,u=r+"/"+s;this.http.json(o(!0,e,{path:u,admin:e.admin}),function(r,s){var h=!0;if(r){if(r.status!=i.HTTP_STATUS.NOT_FOUND)return void n(r);h=!1}a&&h?(u+="?rev="+s._rev,this.http.json(o(!0,e,{type:"DELETE",path:u,admin:e.admin}),n)):a?n(null,s):(h&&(t._rev=s._rev),this.http.json(o(!0,e,{type:"PUT",path:u,data:t,admin:e.admin}),n))}.bind(this))},configureDatabase:function(t,e){var n=[];void 0!=t.anonymousUpdates&&n.push(function(e){var n={language:"javascript",validate_doc_update:function(t,e,n){if(!n.name)throw{forbidden:"Not Authorized"}}.toString()};this._toggleDoc(n,{id:"_design/blockAnonymousUpdates",remove:t.anonymousUpdates,admin:!0},e)}.bind(this)),void 0!=t.anonymousReads&&n.push(function(e){var n={language:"javascript",validate_doc_read:function(t,e){if(!e.name)throw{forbidden:"Not Authorized"}}.toString()};this._toggleDoc(n,{id:"_design/blockAnonymousReads",remove:t.anonymousReads,admin:!0},e)}.bind(this)),s.parallel(n,e)},createOrUpdateDatabase:function(t,e){this.getDatabase(t,function(n,r){n?n.status==i.HTTP_STATUS.NOT_FOUND?(console.log("Database does not exist"),this.createDatabase(t,e)):e(n,r):(console.log("Database already exists"),this.configureDatabase(t,e))}.bind(this))},createDatabase:function(t,e){var n=r.optsOrCallback(t,e),i=n.opts;e=n.cb;var o=i.database||this.opts.database;console.log("creating database",o),i.path=o,i.type="PUT",i.admin=!0,this.http.json(i,function(t,n){t?e(t,n):this.configureDatabase(i,e)}.bind(this))},getPermissions:function(t,e){var n=r.optsOrCallback(t,e),i=n.opts;e=n.cb;var o=i.database||this.opts.database;i.path=o+"/_security",i.admin=!0,this.http.json(i,e)},verify:function(t){this.http.json({path:this.opts.database},t)},info:function(t){this.http.json({path:""},t)},getDatabase:function(t,e){var n=r.optsOrCallback(t,e),i=n.opts;e=n.cb||function(){},this.http.json({path:i.database||this.opts.database},e)}},e.exports=function(t,e,r){return new n(t,e,r)}}(this)},{"./constants":7,"./util":12,merge:18,nimble:19}],5:[function(t,e){!function(){"use strict";function n(t,e,n){this.auth=t,this.http=e,this.opts=n}var r=t("./util"),i=t("./CouchError");n.prototype={getAttachment:function(t,e){var n=t.db||this.opts.database,i=r.isString(t.doc)?t.doc:t.doc._id,o=n+"/"+i+"/"+t.attName;this.http.http({path:o,contentType:null},e)},putAttachment:function(t,e){if(e=e||function(){},t.data){if(r.assertOptions(["data","mimeType","attName","doc"],t,e).length)return;var n=t.db||this.opts.database,o=r.isString(t.doc)?t.doc:t.doc._id,s=t.mimeType||!1,a=t.doc._rev,u=n+"/"+o+"/"+t.attName;a&&(u+="?rev="+a);var h=t.headers||{},c={path:u,type:"PUT",data:t.data,cache:!1,processData:!1,contentType:s};c.headers=h,this.http.http(c,e)}else if(t.url){if(r.assertOptions(["url","attName","doc"],t,e).length)return;this.http.xhrHttp({method:"GET",url:t.url,responseType:"blob"},function(n,o,s){if(n)e(new i({xhr:s,status:n}));else{var a=t.db||this.opts.database,u=r.isString(t.doc)?t.doc:t.doc._id,h=t.doc._rev,c=t.mimeType||!1,f=a+"/"+u+"/"+t.attName;h&&(f+="?rev="+h),this.http.http({path:f,type:"PUT",data:o,processData:!1,contentType:c},e)}}.bind(this))}else e(new i({message:"Must specify either data or ajax"}))},constructAttachmentFromRawData:function(t,e){var n={};n[t.attName]={"content-type":t.mimeType,data:r.btoa(data)},e(null,n)},constructAttachmentFromBlob:function(t,e){var n=new FileReader;n.onloadend=function(){var r=n.result,i={};i[t.attName]={"content-type":t.mimeType,data:r},e(null,i)},n.onerror=function(t){e(t)},n.readAsDataURL(t.data)},constructAttachmentFromURL:function(t,e){this.http.xhrHttp({method:"GET",responseType:"blob",url:t.url},function(n,r,o){n?e(new i({message:"Error getting attachment from URL: "+t.url,xhr:o,status:n})):(t.data=r,this.constructAttachmentFromBlob(t,e))}.bind(this))}},e.exports=function(t,e,r){return new n(t,e,r)}}(this)},{"./CouchError":2,"./util":12}],6:[function(t,e){!function(){"use strict";function n(t,e){var n=e.auth;this.adminAuth=e.adminAuth||{method:r.AUTH_METHOD.BASIC,username:r.DEFAULT_ADMIN,password:r.DEFAULT_ADMIN},this.auth=n,this.api=t,this._verify()}var r=t("./constants"),i=t("./CouchError");n.prototype={setAuth:function(t){this.auth=t,this.api.emit("auth",t)},_verify:function(){var t=this.auth;if(t){if(!t.method)throw new i({message:"Must specify method in auth"});if(t.method!=r.AUTH_METHOD.BASIC)throw new i({message:'Unknown auth methid "'+t.method+'"'});if(!t.username)throw new i({message:"Must specify username if using basic auth"});if(!t.password)throw new i({message:"Must specify password if using basic auth"})}},logout:function(){this.setAuth(null)}},e.exports=function(t,e){return new n(t,e)}}(this)},{"./CouchError":2,"./constants":7}],7:[function(t,e){!function(){"use strict";var n=t("./Set");e.exports={AUTH_METHOD:{BASIC:"basic"},MIME:{JSON:"application/json",PLAIN_TEXT:"text/plain"},DEFAULT_ADMIN:"admin",IGNORE_DATABASES:new n(["_replicator"]),HTTP_STATUS:{UNAUTHORISED:401,CONFLICT:409,NOT_FOUND:404,FORBIDDEN:403}}}()},{"./Set":3}],8:[function(t,e){!function(){"use strict";function n(t,e,n){this.auth=t,this.http=e,this.opts=n}var r=t("./constants"),i=t("./CouchError"),o=t("./util"),s=t("merge");n.prototype={_upsertDocumentArguments:function(t){var e,n,r;return o.isObject(t[0])&&o.isObject(t[1])?(e=t[0],n=t[1],r=t[2]):o.isObject(t[0])?(e=t[0],n={},r=t[1]):(e={},n={},r=t[0]),r=r||function(){},{doc:e,opts:n,cb:r}},_updateDocWithResponse:function(t,e){var n=e.id,r=e.rev;return n?r?(t._id=n,void(t._rev=r)):"No rev in response":"No id in response"},upsertDocument:function(){var t,e,n=this._upsertDocumentArguments(arguments),o=n.doc,a=n.opts,u=n.cb;o._id&&(t=o._id),e=a.db||this.opts.database,t&&(e+="/"+t);var h=this.auth.auth;if(h){if("user"in o)return void u(new i({message:"the user field is reserved"}));o.user=h.user.name}this.http.json({path:e,data:o,type:t?"PUT":"POST"},function(t,e){if(t){var n=t.status==r.HTTP_STATUS.CONFLICT,i="merge"==a.conflicts;i&&n?this._merge(o,a,u):u(t)}else{var h=s({},o);t=this._updateDocWithResponse(h,e),u(t,h,e)}}.bind(this))},_merge:function(t,e,n){this.getDocument(t._id,e,function(r,i){r?n(r):(delete t._rev,t=s(i,t),this.upsertDocument(t,e,n))}.bind(this))},getDocument:function(t,e,n){var r=o.optsOrCallback(e,n),i=r.opts;n=r.cb;var s=i.database||this.opts.database;this.http.json({path:s+"/"+t},n)}},e.exports=function(t,e,r){return new n(t,e,r)}}(this)},{"./CouchError":2,"./constants":7,"./util":12,merge:18}],9:[function(t,e){(function(n){!function(){"use strict";function r(t,e){var n=e.host||"http://localhost:5984";n.length&&"/"==n[n.length-1]&&(n=n.substring(0,n.length-1)),this.host=n.replace("http://",""),this.auth=t}var i=null,o=t("merge"),s=t("./mime"),a=t("nimble"),u=t("./constants"),h=t("./util"),c=t("./CouchError"),f=null;r.prototype={_parseResponse:function(t,e,n){var r;if(e)if(e==u.MIME.JSON)try{r=JSON.parse(t)}catch(i){n(new c({thrown:i}))}else r=t;else r=t;return r},_nHttp:function(t,e){e=e||function(){};var n;t.url?(n=f.parse(t.url),n.host||(n=f.parse(this._constructURL({path:t.url})))):n=f.parse(this._constructURL({path:t.path||""}));var r=t.data,o="contentType"in t?t.contentType:u.MIME.JSON,a=s.ensureMimeType(t.dataType),h=t.type||"GET",p={method:h,hostname:n.hostname,port:n.port,path:n.path,admin:t.admin};o&&(r&&(r=s.coerceData(o,r)),p.headers={"content-type":o}),t.ignoreAuth||this._configureAuth(p);var l=i.request(p,function(t){var n="";t.on("data",function(t){n+=t}),t.on("end",function(){var r=t.statusCode,i=t.headers["content-type"]||"",o=r>=200&&300>r,s=(a||i.split(";")[0]).trim(),u=this._parseResponse(n,s,e);if(t.responseText=n,o)e(null,u,t);else{var h={response:t,status:r,responseData:u,reason:u.reason,error:u.error};e(new c(h),u)}}.bind(this))}.bind(this));r&&l.write(r),l.end()},_constructURL:function(t){var e=t.protocol||"http://",n=t.path;return e+this.host+(n.length?"/"==n[0]?"":"/":"")+n},_$http:function(t,e){e=e||function(){},t=o({type:"GET",contentType:u.MIME.JSON},t||{});var n=s.coerceData(t.contentType,t.data);if(n&&n.isError)return void e(n);void 0!=n&&(t.data=n),t.ignoreAuth||this._configureAuth(t);var r=t.path||"";null!=t.path&&delete t.path,t.url||(t.url=this._constructURL({path:r})),console.info("[CouchDB: HTTP Request]:",t),$.ajax(t).done(function(n,r,i){console.info("[CouchDB: HTTP Response]:",{opts:t,jqXHR:i,textStatus:r,status:i.status}),e(null,n,i)}).fail(function(n,r,i){console.info("[CouchDB: HTTP Response]:",{opts:t,jqXHR:n,textStatus:r,errorThrown:i,status:n.status}),e(i instanceof Error?new c({thrown:i}):new c({message:i,xhr:n,status:n.status,opts:t}))})},_http:function(t,e){i?this._nHttp(t,e):this._$http(t,e)},_configureAuth:function(t){var e=t.admin?this.auth.adminAuth:this.auth.auth;if(e){var n=t.headers||{};t.headers=n,n.Authorization||e.method==u.AUTH_METHOD.BASIC&&(n.Authorization="Basic "+h.btoa(e.username+":"+e.password))}},http:function(t,e){Array.isArray(t)?a.parallel(t.map(function(t){return function(e){this._http(t,e)}.bind(this)}.bind(this)),e):this._http(t,e)},xhrHttp:function(t,e){var r=t.method||"GET",i=t.responseType;e=e||function(){};var o=!n.XMLHttpRequest;if(o){var s={url:t.url,type:r};"blob"!=i&&(s.responseType=i),this._nHttp(s,e)}else{var a=n.XMLHttpRequest,u=new a;u.onreadystatechange=function(){4==this.readyState&&(200==this.status?e(null,this.response,u):e(this.status,this.response,u))},u.open(r,t.url),i&&(u.responseType=i),u.send()}},json:function(t,e){function n(t){t.dataType="json"}Array.isArray(t)?t.forEach(n):n(t),this.http(t,e)}},e.exports=function(t,e){return new r(t,e)}}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CouchError":2,"./constants":7,"./mime":10,"./util":12,merge:18,nimble:19}],10:[function(t,e){!function(){"use strict";var n=t("./constants"),r=t("./CouchError"),i=t("./util");e.exports={ensureMimeType:function(t){return t&&"json"==t.trim()&&(t=n.MIME.JSON),t},coerceData:function(t,e){var o;if(t==n.MIME.JSON){if(e&&!i.isString(e))try{o=JSON.stringify(e)}catch(s){return new r({thrown:s})}}else o=e;return o}}}()},{"./CouchError":2,"./constants":7,"./util":12}],11:[function(t,e){!function(){"use strict";function n(t,e){this.http=e,this.auth=t}var r=t("./CouchError"),i=t("./constants");n.prototype={_getFullyQualifedUsername:function(t){return"org.couchdb.user:"+t},createUser:function(t,e){e=e||function(){};var n=t.username,o=t.password,s=this._getFullyQualifedUsername(n);this.http.json({path:"_users/"+s,type:"PUT",data:{_id:s,name:n,type:"user",roles:[],password:o}},function(s,a){var u;s||(u={name:n,username:n,_id:a.id,_rev:a.rev},t.auth&&(t.auth==i.AUTH_METHOD.BASIC?(this.auth.setAuth({method:i.AUTH_METHOD.BASIC,username:n,password:o,user:u}),u.password=o):e(new r({message:'NYI: Auth method "'+t.auth+'"'})))),e(s,u)}.bind(this))},getUser:function(t,e){var n=this._getFullyQualifedUsername(t);this.http.json({path:"_users/"+n},e)},basicAuth:function(t,e){var n=t.username,o=t.password,s={path:"_session",type:"POST",contentType:"application/x-www-form-urlencoded",data:"name="+n+"&password="+o};this.http.json(s,function(t,s){t?e(t):s.ok?(this.auth.setAuth({method:i.AUTH_METHOD.BASIC,username:n,password:o,user:s}),s.username=n,s.password=o,s.name=n,e(null,s)):(this.auth.setAuth(null),e(new r(s)))}.bind(this))},verifyAuth:function(t){t=t||function(){};var e=this.auth.auth;e?e.method==i.AUTH_METHOD.BASIC&&this.basicAuth(e,t):t(new r({message:"No auth method has been set."}))}},e.exports=function(t,e){return new n(t,e)}}(this)},{"./CouchError":2,"./constants":7}],12:[function(t,e){(function(t){!function(n){"use strict";e.exports={btoa:n.btoa||function(e){return new t(e).toString("base64")},isString:function(t){return"string"==typeof t||t instanceof String},isObject:function(t){return"object"==typeof t},assertOptions:function(t,e,n){var r=[];return t.forEach(function(t){void 0==e[t]&&r.push(t)}),r.length&&n&&n(new CouchError({message:"Missing options: "+r.join(", ")})),r},optsOrCallback:function(t,e){var n;return t instanceof Function?(e=t,n={}):n=t,{opts:n,cb:e}}}}(this)}).call(this,t("buffer").Buffer)},{buffer:13}],13:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i,o=typeof t;if("number"===o)i=t>0?t>>>0:0;else if("string"===o)i=r.byteLength(t,e);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&x(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}if(i>N)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+N.toString(16)+" bytes");var s;r.TYPED_ARRAY_SUPPORT?s=r._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(r.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)s._set(t);else if(U(t))if(r.isBuffer(t))for(a=0;i>a;a++)s[a]=t.readUInt8(a);else for(a=0;i>a;a++)s[a]=(t[a]%256+256)%256;else if("string"===o)s.write(t,0,e);else if("number"===o&&!r.TYPED_ARRAY_SUPPORT&&!n)for(a=0;i>a;a++)s[a]=0;return i>0&&i<=r.poolSize&&(s.parent=j),s}function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var o=new r(t,e,n);return delete o.parent,o}function o(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function s(t,e,n,r){var i=O(B(e,t.length-n),t,n,r);return i}function a(t,e,n,r){var i=O(R(e),t,n,r);return i}function u(t,e,n,r){return a(t,e,n,r)}function h(t,e,n,r){var i=O(D(e),t,n,r);return i}function c(t,e,n,r){var i=O(S(e,t.length-n),t,n,r,2);return i}function f(t,e,n){return C.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function p(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=P(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+P(i)}function l(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function d(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function g(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=L(t[o]);return i}function v(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function m(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function y(t,e,n,i,o,s){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||s>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function w(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function b(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function E(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function _(t,e,n,r,i){return i||E(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),M.write(t,e,n,r,23,4),n+4}function A(t,e,n,r,i){return i||E(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),M.write(t,e,n,r,52,8),n+8}function T(t){if(t=I(t).replace(Y,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function I(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return x(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function L(t){return 16>t?"0"+t.toString(16):t.toString(16)}function B(t,e){var n,r=t.length,i=null;e=e||1/0;for(var o=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function S(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function D(t){return C.toByteArray(T(t))}function O(t,e,n,r,i){i&&(r-=r%i);for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}function P(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var C=t("base64-js"),M=t("ieee754"),x=t("is-array");n.Buffer=r,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var N=1073741823,j={};r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var n=t.length,i=e.length,o=0,s=Math.min(n,i);s>o&&t[o]===e[o];o++);return o!==s&&(n=t[o],i=e[o]),i>n?-1:n>i?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!x(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,o),o+=s.length}return i},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=B(t).length;break;case"base64":n=D(t).length;break;default:n=t.length}return n},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return g(this,e,n);case"utf8":case"utf-8":return p(this,e,n);case"ascii":return l(this,e,n);case"binary":return d(this,e,n);case"base64":return f(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return r.compare(this,t)},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}if(e=Number(e)||0,0>n||0>e||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase();var p;switch(r){case"hex":p=o(this,t,e,n);break;case"utf8":case"utf-8":p=s(this,t,e,n);break;case"ascii":p=a(this,t,e,n);break;case"binary":p=u(this,t,e,n);break;case"base64":p=h(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=c(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return p},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=r._augment(this.subarray(t,e));else{var o=e-t;i=new r(o,void 0,!0);for(var s=0;o>s;s++)i[s]=this[s+t]}return i.length&&(i.parent=this.parent||this),i},r.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||m(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},r.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||m(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},r.prototype.readUInt8=function(t,e){return e||m(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||m(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||m(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||m(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||m(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||m(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},r.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||m(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return e||m(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||m(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||m(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||m(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||m(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||m(t,4,this.length),M.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||m(t,4,this.length),M.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||m(t,8,this.length),M.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||m(t,8,this.length),M.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||y(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||y(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):w(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):w(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||y(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,s=0>t?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},r.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||y(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,s=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):w(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):w(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return _(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return _(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return A(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return A(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){var o=this;if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===o.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=o.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var s=i-n;if(1e3>s||!r.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+s),e);return s},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=B(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var H=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=H.get,t.set=H.set,t.write=H.write,t.toString=H.toString,t.toLocaleString=H.toString,t.toJSON=H.toJSON,t.equals=H.equals,t.compare=H.compare,t.copy=H.copy,t.slice=H.slice,t.readUIntLE=H.readUIntLE,t.readUIntBE=H.readUIntBE,t.readUInt8=H.readUInt8,t.readUInt16LE=H.readUInt16LE,t.readUInt16BE=H.readUInt16BE,t.readUInt32LE=H.readUInt32LE,t.readUInt32BE=H.readUInt32BE,t.readIntLE=H.readIntLE,t.readIntBE=H.readIntBE,t.readInt8=H.readInt8,t.readInt16LE=H.readInt16LE,t.readInt16BE=H.readInt16BE,t.readInt32LE=H.readInt32LE,t.readInt32BE=H.readInt32BE,t.readFloatLE=H.readFloatLE,t.readFloatBE=H.readFloatBE,t.readDoubleLE=H.readDoubleLE,t.readDoubleBE=H.readDoubleBE,t.writeUInt8=H.writeUInt8,t.writeUIntLE=H.writeUIntLE,t.writeUIntBE=H.writeUIntBE,t.writeUInt16LE=H.writeUInt16LE,t.writeUInt16BE=H.writeUInt16BE,t.writeUInt32LE=H.writeUInt32LE,t.writeUInt32BE=H.writeUInt32BE,t.writeIntLE=H.writeIntLE,t.writeIntBE=H.writeIntBE,t.writeInt8=H.writeInt8,t.writeInt16LE=H.writeInt16LE,t.writeInt16BE=H.writeInt16BE,t.writeInt32LE=H.writeInt32LE,t.writeInt32BE=H.writeInt32BE,t.writeFloatLE=H.writeFloatLE,t.writeFloatBE=H.writeFloatBE,t.writeDoubleLE=H.writeDoubleLE,t.writeDoubleBE=H.writeDoubleBE,t.fill=H.fill,t.inspect=H.inspect,t.toArrayBuffer=H.toArrayBuffer,t};var Y=/[^+\/0-9A-z\-]/g},{"base64-js":14,ieee754:15,"is-array":16}],14:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===f?62:e===a||e===p?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:h+26>e?e-h+26:void 0}function n(t){function n(t){h[f++]=t}var r,i,s,a,u,h;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,h=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),h
}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),h="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),p="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],15:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,h=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,l=t[e+f];for(f+=p,o=l&(1<<-c)-1,l>>=-c,c+=a;c>0;o=256*o+t[e+f],f+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+f],f+=p,c-=8);if(0===o)o=1-h;else{if(o===u)return s?0/0:1/0*(l?-1:1);s+=Math.pow(2,r),o-=h}return(l?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,h=8*o-i-1,c=(1<<h)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+l]=255&a,l+=d,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[n+l]=255&s,l+=d,s/=256,h-=8);t[n+l-d]|=128*g}},{}],16:[function(t,e){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(t){return!!t&&"[object Array]"==r.call(t)}},{}],17:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(o(n)){for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];for(h=n.slice(),i=h.length,u=0;i>u;u++)h[u].apply(this,a)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],18:[function(t,e){!function(t){function n(t,e){if("object"!==i(t))return e;for(var r in e)t[r]="object"===i(t[r])&&"object"===i(e[r])?n(t[r],e[r]):e[r];return t}function r(t,e,r){var s=r[0],a=r.length;(t||"object"!==i(s))&&(s={});for(var u=0;a>u;++u){var h=r[u],c=i(h);if("object"===c)for(var f in h){var p=t?o.clone(h[f]):h[f];s[f]=e?n(s[f],p):p}}return s}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var o=function(t){return r(t===!0,!1,arguments)},s="merge";o.recursive=function(t){return r(t===!0,!0,arguments)},o.clone=function(t){var e,n,r=t,s=i(t);if("array"===s)for(r=[],n=t.length,e=0;n>e;++e)r[e]=o.clone(t[e]);else if("object"===s){r={};for(e in t)r[e]=o.clone(t[e])}return r},t?e.exports=o:window[s]=o}("object"==typeof e&&e&&"object"==typeof e.exports&&e.exports)},{}],19:[function(t,e,n){!function(t){var e=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},n=function(t,e){var n=Array.prototype[t];return function(r,i,o){var s=r?r[t]:0;return s&&s===n?s.call(r,i,o):e(r,i,o)}},r=n("forEach",function(t,n){for(var r=t instanceof Object,i=r?e(t):t||[],o=0,s=i.length;s>o;o++){var a=r?i[o]:o;n(t[a],a,t)}}),i=function(t,n,i){var o=t.length||e(t).length;if(!o)return i();var s=0;r(t,function(){var t=function(t){t?(i(t),i=function(){}):++s===o&&i()},e=Array.prototype.slice.call(arguments);n.length?(e=e.slice(0,n.length-1),e[n.length-1]=t):e.push(t),n.apply(this,e)})},o=function(t,n,r){var i=e(t);if(!i.length)return r();var o=0,s=function(){var e=i[o],a=[t[e],e,t].slice(0,n.length-1);a[n.length-1]=function(t){t?(r(t),r=function(){}):++o===i.length?r():s()},n.apply(this,a)};s()},s=n("map",function(t,e){var n=[];return r(t,function(t,r,i){n[n.length]=e(t,r,i)}),n}),a=function(t){return function(e,n,r){var i=[];t(e,function(t,e,r,o){var s=function(t,e){i[i.length]=e,o(t)},a=[t,e,r];n.length?(a=a.slice(0,n.length-1),a[n.length-1]=s):a.push(s),n.apply(this,a)},function(t){r(t,i)})}},u=n("filter",function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&(n[n.length]=t)}),n}),h=function(t,e,n){var r=[];i(t,function(t,n,i,o){var s=function(e,n){n&&(r[r.length]=t),o(e)},a=[t,n,i];e.length?(a=a.slice(0,e.length-1),a[e.length-1]=s):a.push(s),e.apply(this,a)},function(t){n(t,r)})},c=n("reduce",function(t,e,n){return r(t,function(t,r,i){n=e(n,t,r,i)}),n}),f=function(t,e,n,r){o(t,function(t,r,i,o){var s=function(t,e){n=e,o(t)},a=[n,t,r,i];e.length?(a=a.slice(0,e.length-1),a[e.length-1]=s):a.push(s),e.apply(this,a)},function(t){r(t,n)})};t.each=function(t,e,n){return(n?i:r)(t,e,n)},t.map=function(t,e,n){return(n?a(i):s)(t,e,n)},t.filter=function(t,e,n){return(n?h:u)(t,e,n)},t.reduce=function(t,e,n,r){return(r?f:c)(t,e,n,r)},t.parallel=function(t,e){var n=new t.constructor;i(t,function(t,e,r){t(function(t){var i=Array.prototype.slice.call(arguments,1);n[e]=i.length<=1?i[0]:i,r(t)})},function(t){(e||function(){})(t,n)})},t.series=function(t,e){var n=new t.constructor;o(t,function(t,e,r){t(function(t){var i=Array.prototype.slice.call(arguments,1);n[e]=i.length<=1?i[0]:i,r(t)})},function(t){(e||function(){})(t,n)})}}("undefined"==typeof n?this._=this._||{}:n)},{}]},{},[1]);